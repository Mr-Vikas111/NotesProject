<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id='list-wrapper'>

    </div>

</body>

<script>
    buildList()

    function buildList() {
        var wrapper = document.getElementById('list-wrapper')
        var url = 'http://127.0.0.1:8000/allnotes/'

        fetch(url)
            .then((resp) => resp.json())
            .then(function (data) {
                console.log('Data:', data)

                var list = data
                for (var i in list) {
                    var item = `
                        <div id = "${i}">
                            <span class="title">${list[i].title}</span>
                            <span class="title">${list[i].body}</span>
                            <span class="title">${list[i].image}</span>
                            <span class="title">${list[i].date}</span>
                            <span class="title">${list[i].user}</span>
                            
                        </div>
                    `
                    wrapper.innerHTML += item
                }
            })
    }

</script>

</html>